---
tags:
  - JIT
  - complier
  - development
---
编译语言和解释语言是编程语言的两种不同的执行方式，它们在程序的编写、编译、运行等方面有着本质的区别：
### 编译语言

[編譯語言](https://zh.wikipedia.org/wiki/%E7%B7%A8%E8%AD%AF%E8%AA%9E%E8%A8%80)

编译语言（Compiled Languages）的工作流程通常包括以下几个步骤：
1. **编写代码**：开发者使用编译语言编写源代码，例如C或C++。
2. **编译过程**：源代码通过编译器转换成机器语言，生成一个可执行文件（通常是一个二进制文件）。
3. **运行程序**：用户在计算机上运行编译后的可执行文件，计算机的处理器直接执行机器语言指令。

**特点**：

- **执行速度**：编译语言的执行速度通常很快，因为它们直接被转换成机器语言。
- **跨平台问题**：编译语言通常需要为不同的平台编译不同的可执行文件，因为机器语言是依赖于特定硬件架构的。
- **错误检测**：大多数错误在编译时被检测到，而不是在运行时。
### 解释语言

[解释型语言 - 维基百科，自由的百科全书](https://zh.wikipedia.org/zh-cn/%E7%9B%B4%E8%AD%AF%E8%AA%9E%E8%A8%80)

解释语言（Interpreted Languages）的工作流程如下：

1. **编写代码**：开发者使用解释语言编写源代码，例如JavaScript或Python。
2. **运行时转换**：源代码在运行时被解释器逐行或逐块转换成机器语言。
3. **执行程序**：解释器执行转换后的机器语言指令。

**特点**：

- **执行速度**：解释语言通常比编译语言慢，因为它们在运行时才被转换成机器语言。
- **跨平台**：解释语言的源代码可以在多种硬件平台上运行，只要这些平台有相应语言的解释器。
- **交互性**：解释语言通常提供更灵活的交互式编程环境，允许开发者在编写代码的同时立即看到结果。
- **错误检测**：错误可能在运行时才被发现，这有时会导致更难以追踪的错误。

### 主要差异

- **执行过程**：编译语言在执行前需要经过编译过程，而解释语言则是在运行时才被转换成机器语言。
- **性能**：编译语言通常性能更好，因为它们直接被转换成机器语言，减少了运行时的转换开销。
- **可移植性**：解释语言的源代码更易于移植，因为它们不需要针对不同平台重新编译。
- **开发效率**：解释语言通常提供更快的编辑-测试周期，有助于提高开发效率。

选择编译语言还是解释语言取决于项目的需求、性能要求、开发时间以及预期的运行环境。每种类型都有其特定的应用场景和优势。

### JIT又是什么，和之前这两个概念之间的区别是啥？

JIT编译（Just-In-Time Compilation）是一种介于编译语言和解释语言之间的执行模型，它结合了两者的特点：

1. **执行过程**：在JIT编译模型中，代码在运行时被即时编译成机器语言。这意味着解释语言的源代码或字节码在程序执行时才被转换成机器语言。
2. **性能**：JIT编译器旨在提供比传统解释器更好的性能，因为它可以利用运行时信息对代码进行优化，生成更高效的机器代码。
3. **跨平台**：JIT编译器通常与解释语言一起使用，以提供跨平台兼容性，因为JIT编译器会为当前运行的特定硬件平台生成机器代码。
4. **应用场景**：JIT编译器常用于那些需要即时编译以提高性能的场景，如Java和.NET平台。这些平台使用的是介于编译语言和解释语言之间的模型，即先编译成中间字节码，再通过JIT编译器在运行时转换为机器语言。
5. **优化**：JIT编译器可以应用高级优化技术，如热点代码探测（经常执行的代码段）和即时优化，这些在传统的静态编译过程中是不可能的。

总结来说，JIT编译器提供了一种平衡性能和跨平台兼容性的解决方案，特别适用于那些需要动态执行和运行时优化的高级编程语言。

### JIT看起来和解释语言很相似啊，都是运行时被编译成机器语言，所以我看不出来区别。您能纠正一下我的想法和勘误一下吗

您提出了一个很好的观点，JIT（Just-In-Time）编译确实与解释执行在某些方面有相似之处，尤其是在代码在运行时被转换成机器语言这一点上。然而，尽管它们在代码转换的时间点上有相似之处，但JIT编译器和传统解释器之间还是存在一些关键的区别：

1. **编译频率**：
    - **解释语言**：通常，解释语言的解释器会在每次程序运行时逐行或逐句解释执行源代码，这意味着同样的代码可能会被多次解释。
    - **JIT编译**：JIT编译器通常只在代码第一次执行时编译该代码的特定部分，并将编译后的机器代码缓存起来。之后，如果再次执行相同的代码，JIT编译器可以直接使用已缓存的机器代码，而不需要重新编译。
2. **优化**：
    - **解释语言**：传统解释器往往不会对代码进行优化，或者只能进行非常有限的优化，因为它们通常没有关于程序执行的上下文信息。
    - **JIT编译**：JIT编译器可以利用运行时信息对代码进行更深入的优化。例如，JIT编译器可以使用诸如即时优化（Inline caching）、热点代码探测（识别并优化频繁执行的代码段）和去虚拟化（去除接口调用的额外开销）等技术。
3. **执行效率**：
    - **解释语言**：由于缺少优化，解释执行通常比编译执行要慢。
    - **JIT编译**：JIT编译后的代码可以非常接近静态编译语言的性能，因为它生成的是针对特定平台高度优化的机器代码。
4. **启动时间**：
    - **解释语言**：由于不需要等待编译过程，解释语言通常具有较快的启动时间。
    - **JIT编译**：JIT编译可能会增加程序的启动时间，因为编译过程需要在程序开始运行后进行。然而，这种影响可能会因为JIT编译器的优化和代码缓存而在后续执行中变得不那么显著。
5. **跨平台特性**：
    - **解释语言**：解释语言的跨平台特性通常是由解释器本身提供的，解释器为不同的平台提供了统一的运行时环境。
    - **JIT编译**：JIT编译器为每个特定的运行平台生成机器代码，因此它们也能够提供跨平台执行的能力，但这是通过生成与平台相关的机器代码来实现的。

简而言之，JIT编译器在运行时将代码编译成机器语言的同时，还能够进行复杂的优化，这使得它在性能上通常优于传统的解释执行，尽管这可能会以增加一些启动时间为代价。而解释执行则通常更加灵活和快速启动，但可能在性能上有所折衷。

---

### 拓展阅读


3. 因为js是解释性语言，所以在前端开发中也存在面对 JIT 编程的概念。[Loop unrolling](https://en.wikipedia.org/wiki/Loop_unrolling)
4. 梦秋之前分享过 web assembly，这个也涉及到 JIT 等等概念[‍⁡‍⁢﻿⁤⁤‍﻿⁢⁡⁤﻿⁡⁣⁤⁣⁣⁢⁢⁣⁡⁡‍​‍⁤⁤‌⁣﻿‌⁡‌⁢⁤﻿‬﻿‬‌﻿‬⁣Web Assembly 演进及其技术 - 飞书云文档](https://www.notion.so/Web-Assembly-71dfb1ccb6634e25ad0c7ff3601c488e?pvs=21)